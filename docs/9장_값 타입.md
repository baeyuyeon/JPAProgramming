JPA ì˜ ë°ì´í„° íƒ€ì…ì„ ê°€ì¥ í¬ê²Œ ë¶„ë¥˜í•˜ë©´ ì—”í‹°í‹° íƒ€ì…ê³¼ ê°’ íƒ€ì…ìœ¼ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤.
ì—”í‹°í‹° íƒ€ì…ì€ ì‹ë³„ìë¥¼ í†µí•´ ì§€ì†í•´ì„œ ì¶”ì í•  ìˆ˜ ìˆì§€ë§Œ, ê°’ íƒ€ì…ì€ ì‹ë³„ìê°€ ì—†ê³  ìˆ«ìë‚˜ ë¬¸ìê°™ì€ ì†ì„±ë§Œ ìˆìœ¼ë¯€ë¡œ ì¶”ì í•  ìˆ˜ ì—†ë‹¤.

ê°’íƒ€ì…ì€ ì„¸ê°€ì§€ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤.
- ê¸°ë³¸ê°’ íƒ€ì…
	-ìë°” ê¸°ë³¸íƒ€ì…(int, double..)
    -ë˜í¼ í´ë˜ìŠ¤(Integer)
    -String
- ì„ë² ë””ë“œ íƒ€ì…(ë³µí•© ê°’ íƒ€ì…)
- ì»¬ë ‰ì…˜ ê°’ íƒ€ì…

## 1. ê¸°ë³¸ê°’ íƒ€ì…
```java
public class Member {

    @Id
    @Column(name = "id")
    private Long id;

    @Column(name = "name", nullable = false, length = 10)
    private String username;
    private Integer age; 
    ...
}
```
Memberì—ì„œ String ê³¼ Integerê°€ ê°’ íƒ€ì…ì´ë‹¤. nameê³¼ age ì†ì„±ì€ ì‹ë³„ì ê°’ë„ ì—†ê³  ìƒëª…ì£¼ê¸°ë„ íšŒì› ì—”í‹°í‹°ì— ì˜ì¡´í•œë‹¤. ê°’íƒ€ì…ì€ ê³µìœ í•˜ë©´ ì•ˆëœë‹¤.

---

## 2. ì„ë² ë””ë“œ íƒ€ì…(ë³µí•©ê°’ íƒ€ì…)
ìƒˆë¡œìš´ ê°’ íƒ€ì…ì„ ì§ì ‘ ì •ì˜í•´ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ì„ë² ë””ë“œ íƒ€ì…ì´ë¼ê³  í•œë‹¤.
ë‹¤ìŒ ì½”ë“œë¥¼ ë³´ì.
```java
@Entity
public class Member { 
	@Id @GeneratedValue
    private Long id;
    private String name;
    
    @Embedded Period workPeriod; //ê·¼ë¬´ ê¸°ê°„
    @Embedded Address homeAddress; //ì§‘ ì£¼ì†Œ
    ...
}
@Embeddable
public class Period { 
	@Temporal(TemporalType.DATE) Date startDate;
    @Temporal(TemporalType.DATE) Date endDate;
    ...
}

@Embeddable
public class Address {
	@Column(name="city") // ë§¤í•‘í•  ì»¬ëŸ¼ ì •ì˜ ê°€ëŠ¥
    private String city;
    private String street;
    private String zipcode;
    ...
}
```
ë©¤ë²„ ì—”í‹°í‹°ì—ì„œ ì—¬ëŸ¬ ì •ë³´ë¥¼ ë‚˜ì—´í•˜ëŠ”ê²ƒ ë³´ë‹¨, `@Embedded`ë¥¼ ì‚¬ìš©í•´ì„œ ì‘ì§‘ë ¥ìˆê²Œ í‘œí˜„í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.
ì´ë ‡ê²Œ í•˜ë©´ Period, Addessë¥¼ ë‹¤ë¥¸ ì—”í‹°í‹°ì—ì„œ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

### ğŸ”·ì„ë² ë””ë“œ íƒ€ì…
- ì•„ë˜ ì–´ë…¸í…Œì´ì…˜ì€ ë‘˜ ì¤‘ì— í•˜ë‚˜ë¥¼ ìƒëµí•´ë„ ëœë‹¤.
	- `@Embeddable` : ê°’ íƒ€ì…ì„ ì •ì˜í•˜ëŠ” ê³³ì— í‘œì‹œ
	- `@Embedded` : ê°’ íƒ€ì…ì„ ì‚¬ìš©í•˜ëŠ” ê³³ì— í‘œì‹œ
- ì„ë² ë””ë“œ íƒ€ì…ì€ ê¸°ë³¸ ìƒì„±ìê°€ í•„ìˆ˜ë‹¤.
- ì„ë² ë””ë“œ íƒ€ì…ì„ í¬í•¨í•œ ëª¨ë“  ê°’ íƒ€ì…ì€  ì—”í‹°í‹°ì˜ ìƒëª…ì£¼ê¸°ì— ì˜ì¡´í•˜ë¯€ë¡œ ì—”í‹°í‹°ì™€ ì„ë² ë””ë“œ íƒ€ì…ì˜ ê´€ê³„ëŠ” **ì»´í¬ì§€ì…˜ ê´€ê³„**ê°€ ëœë‹¤.

### ğŸ”·ì„ë² ë””ë“œ íƒ€ì…ê³¼ í…Œì´ë¸” ë§¤í•‘
![](https://velog.velcdn.com/images/baeyuyeon/post/bd9f63ea-a408-4613-8ac6-d35cd9928dc1/image.png)
ì„ë² ë””ë“œ íƒ€ì…ì€ ì—”í‹°í‹°ì˜ ê°’ì¼ ë¿ì´ë‹¤. ì¦‰ ì„ë² ë””ë“œ íƒ€ì…ì„ ì‚¬ìš©í•˜ê¸° ì „ê³¼ í›„ì— ë§¤í•‘í•˜ëŠ” í…Œì´ë¸”ì€ ê°™ë‹¤.
**ì˜ ì„¤ê³„í•œ ORM ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ë§¤í•‘í•œ í…Œì´ë¸”ì˜ ìˆ˜ë³´ë‹¤ í´ë˜ìŠ¤ì˜ ìˆ˜ê°€ ë” ë§ë‹¤.**

### ğŸ”·ì„ë² ë””ë“œ íƒ€ì…ê³¼ ì—°ê´€ê´€ê³„
![](https://velog.velcdn.com/images/baeyuyeon/post/d3665b2c-8e0c-4c9a-bb5d-14aaebe7d4be/image.png)
ì„ë² ë””ë“œ íƒ€ì…ì€ ê°’ íƒ€ì…ì„ í¬í•¨í•˜ê±°ë‚˜ ì—”í‹°í‹°ë¥¼ ì°¸ì¡°í•  ìˆ˜ ìˆë‹¤.
>ì—”í‹°í‹°ëŠ” ê³µìœ ë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì°¸ì¡°í•œë‹¤ê³  í‘œí˜„í•˜ê³ , ê°’ íƒ€ì…ì€ íŠ¹ì • ì£¼ì¸ì— ì†Œì†ë˜ê³  ë…¼ë¦¬ì ì¸ ê°œë…ìƒ ê³µìœ ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ í¬í•¨í•œë‹¤ê³  í‘œí˜„í–ˆë‹¤.

ì½”ë“œë¥¼ ë³´ì.
```java
@Entity
public class Member9_6 {


    @Id
    @GeneratedValue
    private Long id;

    @Embedded
    Address9_6 address;
    @Embedded
    PhoneNumber phoneNumber;
    ...
}
@Embeddable
public class Address9_6 {

    String street;
    String city;
    String state;
    @Embedded
    Zipcode zipcode; //ì„ë² ë””ë“œ íƒ€ì… í¬í•¨

}

@Embeddable
class Zipcode {

    String zip;
    String plusFour;
}

@Embeddable
public class PhoneNumber {

    String areaCode;
    String localNumber;
    @ManyToOne
    PhoneServiceProvider provider; // ì—”í‹°í‹° ì°¸ì¡°
}

@Entity
class PhoneServiceProvider {

    @Id
    String name;
}
```

`Address`ê°€ ê°’ íƒ€ì…ì¸ Zipcodeë¥¼ í¬í•¨í•˜ê³ , ê°’ íƒ€ì…ì¸ PhoneNumberê°€ ì—”í‹°í‹° íƒ€ì…ì¸ PhoneServiceProviderë¥¼ ì°¸ì¡°í•œë‹¤.

ìƒì„±ëœ DB ERD ë‹¤ì´í„°ê·¸ë¨ì´ë‹¤.
![](https://velog.velcdn.com/images/baeyuyeon/post/7f579bfc-921a-4b12-bdc3-80bbb8e8b749/image.png)


### ğŸ”·@AttributeOverride : ì†ì„± ì¬ì •ì˜
ì„ë² ë””ë“œ íƒ€ì…ì— ì •ì˜í•œ ë§¤í•‘ì •ë³´ë¥¼ ì¬ì •ì˜í•˜ë ¤ë©´ ì—”í‹°í‹°ì— @AttributeOverrideë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤. 
Member ì—”í‹°í‹°ì— ì§‘ì£¼ì†Œë‘ íšŒì‚¬ì£¼ì†Œë¥¼ ë“±ë¡í•˜ë ¤ê³  í•œë‹¤. ì´ë ‡ê²Œ í•œë‹¤ë©´ ì»¬ëŸ¼ëª…ì´ ì¤‘ë³µë  í…ë°, ì´ ë•Œ @AttributeOverrideë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤. 
```java
@Entity
public class Member {
    @Id
    @GeneratedValue
    private Long id;

    @Embedded
    Address homeAddress;
    
    @Embedded
    @AttributeOverrides({
    	@AttributeOverride(name="city", column = @Column(name="COMPANY_CITY")),
        @AttributeOverride(name="street", column = @Column(name="COMPANY_STREET")),
        @AttributeOverride(name="zipcode", column = @Column(name="COMPANY_ZIPCODE"))
    })
    Address companyAddress;
    ...
}
```

### ğŸ”·ì„ë² ë””ë“œ íƒ€ì…ê³¼ null
ì„ë² ë””ë“œ íƒ€ì…ì´ nullì´ë©´, ë§¤í•‘í•œ ì»¬ëŸ¼ ê°’ì€ ëª¨ë‘ nullì´ ëœë‹¤.
```java
member.setAddress(null); //nullì…ë ¥
em.persist(member);
```
ì´ë ‡ê²Œ í•˜ë©´ ì£¼ì†Œì™€ ê´€ë ¨ëœ city, street, zipcode ì»¬ëŸ¼ ê°’ì€ ëª¨ë‘ nullì´ ëœë‹¤.

---

## 3. ê°’ íƒ€ì…ê³¼ ë¶ˆë³€ ê°ì²´
ê°’ íƒ€ì…ì€ ë‹¨ìˆœí•˜ê³  ì•ˆì „í•˜ê²Œ ë‹¤ë£° ìˆ˜ ìˆì–´ì•¼í•œë‹¤.
### ğŸ”¶ê°’ íƒ€ì… ê³µìœ  ì°¸ì¡°
ì„ë² ë””ë“œ íƒ€ì…ì„ ì—¬ëŸ¬ ì—”í‹°í‹°ì—ì„œ ê³µìœ í•˜ë©´ ì–´ë–¤ ë¬¸ì œê°€ ìˆì„ê¹Œ?
![](https://velog.velcdn.com/images/baeyuyeon/post/93f5770f-ce10-43a4-af31-668b8871c225/image.png)

```java
member1.setHomeAddress(new Address("OldCity"));
Adderss address = member1.getHomeAddress();

address.setCity("NewCity"); 
member2.setHomeAddress(address);//íšŒì›1ì˜ addressê°’ì„ ê³µìœ í•´ì„œ ì‚¬ìš©
```
ì´ë ‡ê²Œ íšŒì›1ì˜ ì£¼ì†Œë¥¼ ê·¸ëŒ€ë¡œ íšŒì›2ê°€ ì‚¬ìš©í•˜ë©´ íšŒì›2ë§Œ ë°”ë€Œê¸¸ ì›í–ˆì§€ë§Œ, ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ëŠ” UPDATE ë¬¸ì„ íšŒì›1ë„ ê°™ì´ NewCityë¡œ ì‹¤í–‰í•œë‹¤.
ì´ë ‡ê²Œ ë­”ê°€ë¥¼ ìˆ˜ì •í–ˆëŠ”ë° ì „í˜€ ì˜ˆìƒì¹˜ ëª»í•œ ê³³ì—ì„œ ë¬¸ì œê°€ ë°œìƒí•˜ëŠ” ê²ƒì„ **ë¶€ì‘ìš©**ì´ë¼ í•œë‹¤.

### ğŸ”¶ê°’ íƒ€ì… ë³µì‚¬
ì´ë²ˆì—” ë³µì‚¬í•´ì„œ ì‚¬ìš©í•´ë³´ì.
![](https://velog.velcdn.com/images/baeyuyeon/post/acab273f-5ce0-4eeb-8259-0eee34b94f41/image.png)
```java
member1.setHomeAddress(new Address("OldCity"));
Adderss address = member1.getHomeAddress();

//íšŒì›1ì˜ address ê°’ì„ ë³µì‚¬í•´ì„œ ìƒˆë¡œìš´ newAddress ê°’ì„ ìƒì„±
Address newAddress = address.clone();

address.setCity("NewCity"); 
member2.setHomeAddress(newAddress);
```
ì´ë ‡ê²Œ í•˜ë©´ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ëŠ” íšŒì›2ì˜ ì£¼ì†Œë§Œ ë³€ê²½ëœ ê²ƒìœ¼ë¡œ íŒë‹¨í•˜ê³  íšŒì›2ì— ëŒ€í•´ì„œë§Œ update ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•œë‹¤.

ì´ë ‡ê²Œ ë³µì‚¬í•´ì„œ ì‚¬ìš©í•˜ë©´ ë¬¸ì œë¥¼ ë°©ì§€í•  ìˆ˜ ìˆì§€ë§Œ, ì›ë³¸ì˜ ì°¸ì¡° ê°’ì„ ì§ì ‘ ë„˜ê¸°ëŠ” ê²ƒì„ ì•„ì˜ˆ ë°©ì§€í•´ì•¼í•˜ëŠ”ë°.... ê·¸ê²Œ ë¬¸ì œë‹¤!
ì¦‰, ê°ì²´ì˜ ê³µìœ  ì°¸ì¡°ëŠ” í”¼í•  ìˆ˜ ì—†ë‹¤.
ì´ëŸ°ê±¸ ê·¼ë³¸ì ìœ¼ë¡œ í•´ê²°í•˜ê¸° ìœ„í•´ì„œëŠ” ìˆ˜ì •ì ë©”ì†Œë“œë¥¼ ëª¨ë‘ ì œê±°í•˜ëŠ” ìˆ˜ë°–ì—!

### ğŸ”¶ë¶ˆë³€ê°ì²´
ê°’ íƒ€ì…ì€ ë¶€ì‘ìš© ê±±ì • ì—†ì´ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ì•¼í•œë‹¤. ê·¸ë˜ì„œ **ê°ì²´ë¥¼ ë¶ˆë³€í•˜ê²Œ** ë§Œë“¤ë©´ ê°’ì„ ìˆ˜ì •í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ ë¶€ì‘ìš©ì„ ì›ì²œ ì°¨ë‹¨í•  ìˆ˜ ìˆë‹¤.
ë”°ë¼ì„œ **ê°’ íƒ€ì…ì€ ë  ìˆ˜ ìˆìœ¼ë©´ ë¶ˆë³€ê°ì²´ë¡œ ì„¤ê³„**í•˜ì!

_**ë¶ˆë³€ê°ì²´ë¥¼ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì€ ìˆ˜ì •ìë¥¼ ë§Œë“¤ì§€ ì•Šê³  ìƒì„±ìë¡œë§Œ ê°’ì„ ì„¤ì •í•˜ì.**_

```java
@Embeddable
public class Address{
	private String city;
    protected Address(){}//JPAì—ì„œ ê¸°ë³¸ ìƒì„±ìëŠ” í•„ìˆ˜ë‹¤.
    
    //ìƒì„±ìë¡œ ì´ˆê¸°ê°’ì„ ì„¤ì •í•œë‹¤.
    public Address(String city){this.city = city;}
    
    //getterë§Œ
    public String getcity(){
    	return city;
    }
}
```
ì´ë ‡ê²Œ í•˜ë©´ Addressë¥¼ ë¶ˆë³€ê°ì²´ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤.

---

## 4. ê°’ íƒ€ì… ë¹„êµ
>ë™ì¼ì„± ë¹„êµ : ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡° ê°’ì„ ë¹„êµ, == ì‚¬ìš©
ë™ë“±ì„± ë¹„êµ : ì¸ìŠ¤í„´ìŠ¤ì˜ ê°’ì„ ë¹„êµ, equals() ì‚¬ìš©

ê°’ íƒ€ì…ì„ ë¹„êµí•  ë•ŒëŠ” a.equals(b)ë¥¼ ì‚¬ìš©í•´ì„œ ë™ë“±ì„± ë¹„êµë¥¼ í•´ì•¼í•œë‹¤.
ë¬¼ë¡  Addressì˜ equals() ë©”ì†Œë“œë¥¼ ì¬ì •ì˜í•´ì•¼í•œë‹¤.
>ìë°”ì—ì„œëŠ” equals()ë¥¼ ì¬ì •ì˜í•˜ë©´ hashCode()ë„ ì¬ì •ì˜í•˜ëŠ” ê²ƒì´ ì•ˆì „í•˜ë‹¤.
ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ í•´ì‹œë¥¼ ì‚¬ìš©í•˜ëŠ” ì»¬ë™ì…˜(HashMap, HashSet)ì´ ì •ìƒë™ì‘í•˜ì§€ ì•ŠëŠ”ë‹¤.

---

## 5. ê°’ íƒ€ì… ì»¬ë ‰ì…˜
ê°’ íƒ€ì…ì„ í•˜ë‚˜ ì´ìƒ ì €ì¥í•˜ë ¤ë©´ ì»¬ë ‰ì…˜ì— ë³´ê´€í•˜ê³ , @ElementCollection, @CollectionTableì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•´ì•¼í•œë‹¤.
```java
@Entity
public class Member{
	@Id @GeneratedValue
    private Long id;
    
    @Embedded
    private Address homeAddress;
    
    @ElementCollection
    @CollectionTable(name = "FAVORITE_FOODS", joinColumns = @JoinColumn(name = "MEMBER_ID"))
    @Column(name="FOOD_NAME")
    private Set<String> favoriteFoods = new HashSet<String>();
    
    @ElementCollection
    @CollectionTable(name = "ADDRESS", joinColumns = @JoinColumn(name = "MEMBER_ID"))
    private List<Address> favoriteFoods = new ArrayList<Address>();
    //...
}
```

![](https://velog.velcdn.com/images/baeyuyeon/post/e4bca5a1-3abb-4dff-9f44-afa740b6f627/image.png)
Member ì—”í‹°í‹°ë¥¼ ë³´ë©´ ê°’ íƒ€ì… ì»¬ë ‰ì…˜ì„ ì‚¬ìš©í•˜ëŠ” favoriteFoods, addressHistoryì— @ElementCollectionì„ ì§€ì •í–ˆë‹¤.

ê·¸ë¦¬ê³  ì´ ì»¬ë ‰ì…˜ì€ ê´€ê³„í˜• dbì—ì„œ í¬í•¨í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ, ë³„ë„ì˜ í…Œì´ë¸”ì„ ì¶”ê°€í•˜ê³  @CollectionTableì„ ì‚¬ìš©í•´ì„œ ì¶”ê°€í•œ í…Œì´ë¸”ì„ ë§¤í•‘í•´ì•¼í•œë‹¤.
![](https://velog.velcdn.com/images/baeyuyeon/post/898371a3-f436-491f-a627-d38d1e0106cf/image.png)

### ğŸ”·ê°’ íƒ€ì… ì»¬ë ‰ì…˜ ì‚¬ìš©
#### ë“±ë¡
```java
private static void save(EntityManager em) {
        Member9_12 member = new Member9_12();
        //ì„ë² ë””ë“œ ê°’ íƒ€ì…
        member.setHomeAddress(new Address("í†µì–‘", "ëª½ëŒí•´ìˆ˜ìš•ì¥", "6666-4444"));

        // ê¸°ë³¸ê°’ íƒ€ì… ì»¬ë ‰ì…˜
        member.getFavoriteFoods().add("ì§¬ë½•");
        member.getFavoriteFoods().add("í”¼ì");
        member.getFavoriteFoods().add("ì‚¼ê²¹ì‚´");

        //ì„ë² ë””ë“œ ê°’ íƒ€ì… ì»¬ë ‰ì…˜
        member.getAddressHistory().add(new Address("ì„œìš¸", "ê°•ë‚¨", "02-1111-2222"));
        member.getAddressHistory().add(new Address("ë™ë‘ì²œ", "ìƒì—°ë¡œ", "031-444-5555"));

        em.persist(member);
    }
```
ë“±ë¡í•˜ëŠ” ì½”ë“œë¥¼ ë³´ë©´ `em.persist(member);` ë¡œ ë©¤ë²„ë§Œ ì˜ì†í™”í•œë‹¤.
ì´ í˜¸ì¶œë¡œ ì´ 6ê°œì˜ insert ë¬¸ì´ ë°œìƒí•œë‹¤.
>ê°’ íƒ€ì… **ì»¬ë ‰ì…˜ì€ ì˜ì†ì„±ì „ì´+ê³ ì•„ê°ì²´ ì œê±° ê¸°ëŠ¥ì„ í•„ìˆ˜**ë¡œ ê°€ì§„ë‹¤ê³  ìƒê°í•˜ë©´ ëœë‹¤!!

#### ì¡°íšŒ
ê°’ íƒ€ì… ì»¬ë ‰ì…˜ì˜ ê¸°ë³¸ íŒ¨ì¹˜ ì „ëµì€ LAZYì´ë‹¤.
`@ElemenetCollection(fetch = FetchType.LAZY)
`
```java
	private static void getMemberData(EntityManager em) {
        //select 
        Member9_12 member = em.find(Member9_12.class, 1L);

        Address homeAddress = member.getHomeAddress();

        System.out.println("homeAddress = " + homeAddress);

        Set<String> favoriteFoods = member.getFavoriteFoods();
        System.out.println("-----------------------------------");
        for (String food : favoriteFoods) {
            System.out.println("food = " + food);
        }

        List<Address> addressHistory = member.getAddressHistory();

        System.out.println("-----------------------------------");
        System.out.println("addressHistory = " + addressHistory.get(0));

    }
```
ìœ„ ì½”ë“œ ì‹¤í–‰ì‹œ
```sql
Hibernate: 
    select
        member9_12x0_.id as id1_27_0_,
        member9_12x0_.city as city2_27_0_,
        member9_12x0_.street as street3_27_0_,
        member9_12x0_.zipcode as zipcode4_27_0_ 
    from
        Member9_12 member9_12x0_ 
    where
        member9_12x0_.id=?
homeAddress = Address{city='í†µì–‘', street='ëª½ëŒí•´ìˆ˜ìš•ì¥', zipcode='6666-4444'}
-----------------------------------
Hibernate: 
    select
        favoritefo0_.MEMBER_ID as MEMBER_I1_13_0_,
        favoritefo0_.FOOD_NAME as FOOD_NAM2_13_0_ 
    from
        FAVORITE_FOODS favoritefo0_ 
    where
        favoritefo0_.MEMBER_ID=?
food = ì§¬ë½•
food = í”¼ì
food = ì‚¼ê²¹ì‚´
-----------------------------------
Hibernate: 
    select
        addresshis0_.MEMBER_ID as MEMBER_I1_0_0_,
        addresshis0_.city as city2_0_0_,
        addresshis0_.street as street3_0_0_,
        addresshis0_.zipcode as zipcode4_0_0_ 
    from
        ADDRESS addresshis0_ 
    where
        addresshis0_.MEMBER_ID=?
addressHistory = Address{city='ì„œìš¸', street='ê°•ë‚¨', zipcode='02-1111-2222'}
```
ê°€ ì‹¤í–‰ëœë‹¤.(LAZY)

#### ìˆ˜ì •
```java
	private static void update(EntityManager em) {
        Member9_12 member = em.find(Member9_12.class, 1L);
        //ì„ë² ë””ë“œ ê°’ íƒ€ì… ìˆ˜ì •
        member.setHomeAddress(new Address("í†µì˜22", "ì‹ ë„ì‹œ", "123123"));

        //ê¸°ë³¸ ê°’ íƒ€ì… ì»¬ë ‰ì…˜ ìˆ˜ì •
        Set<String> favoriteFoods = member.getFavoriteFoods();
        favoriteFoods.remove("ì§¬ë½•");
        favoriteFoods.add("ì—„ë§ˆì§‘ë°¥");

        //ì„ë² ë””ë“œ ê°’ íƒ€ì… ì»¬ë ‰ì…˜ ìˆ˜ì •
        List<Address> addressHistory = member.getAddressHistory();
        addressHistory.remove(new Address("ì„œìš¸", "ê°•ë‚¨", "02-1111-2222"));
        addressHistory.add(new Address("new_ì„œìš¸", "ì‹ ë„ë¦¼", "02-1111-2222"));

    }
```
ìœ„ì²˜ëŸ¼ ì„ë² ë””ë“œ ê°’ íƒ€ì…ì€ ê·¸ëƒ¥ setterë¡œ ìˆ˜ì •í•˜ì—¬ memberí…Œì´ë¸”ì— updateê°€ ì‹¤í–‰ëœë‹¤.
ê¸°ë³¸ê°’ íƒ€ì… ì»¬ë ‰ì…˜ ìˆ˜ì •ê³¼ ì„ë² ë””ë“œ ê°’ íƒ€ì… ì»¬ë ‰ì…˜ ìˆ˜ì •ì€ ë¶ˆë³€í•´ì•¼í•´ì„œ ê¸°ì¡´ ê²ƒì„ ì‚­ì œí•˜ê³  ìƒˆë¡œìš´ ê²ƒì„ ì¶”ê°€í•œë‹¤.

### ğŸ”·ê°’ íƒ€ì… ì»¬ë ‰ì…˜ì˜ ì œì•½ì‚¬í•­
ê°’ íƒ€ì…ì€ ì‹ë³„ìë¼ëŠ” ê°œë…ì´ ì—†ê³  ë‹¨ìˆœí•œ ê°’ë“¤ì˜ ëª¨ìŒì´ë¯€ë¡œ ê°’ì„ ë³€ê²½í•´ë²„ë¦¬ë©´ ë°ì´í„°ë²µ,ìŠ¤ì— ì €ì¥ëœ ì›ë³¸ ë°ì´í„°ë¥¼ ì°¾ê¸°ê°€ ì–´ë µë‹¤.
ë”°ë¼ì„œ JPA êµ¬í˜„ì²´ë“¤ì€ ê°’ íƒ€ì… ì»¬ë ‰ì…˜ì— ë³€ê²½ ì‚¬í•­ì´ ë°œìƒí•˜ë©´ ê°’ íƒ€ì… ì»¬ë ‰ì…˜ì´ ë§¤í•‘ëœ í…Œì´ë¸”ì˜ ì—°ê´€ëœ **ëª¨ë“  ë°ì´í„°ë¥¼ ì‚­ì œ**í•˜ê³ , í˜„ì¬ê°’ íƒ€ì… ì»¬ë ‰ì…˜ ê°ì²´ì— ìˆëŠ” ëª¨ë“  ê°’ì„ ë°ì´í„°ë² ì´ìŠ¤ì— ë‹¤ì‹œ ì €ì¥í•œë‹¤.
--> ì´ê±° ì¬í˜„ì´ ì•ˆë¼ìš”ã… ã… ã… 

ê·¸ë ‡ê¸° ë•Œë¬¸ì—, ê°’íƒ€ì… ì»¬ë ‰ì…˜ì´ ë§¤í•‘ëœ í…Œì´ë¸”ì— ë°ì´í„°ê°€ ë§ë‹¤ë©´ ê°’ íƒ€ì… ì»¬ë ‰ì…˜ ëŒ€ì‹ ì— ì¼ëŒ€ë‹¤ ê´€ê³„ë¥¼ ê³ ë ¤í•˜ì!

> ê°’ íƒ€ì… ì»¬ë ‰ì…˜ì„ ë§¤í•‘í•˜ëŠ” í…Œì´ë¸”ì€ ëª¨ë“  ì»¬ëŸ¼ì„ ë¬¶ì–´ì„œ ê¸°ë³¸í‚¤ë¥¼ êµ¬ì„±í•´ì•¼í•œë‹¤.

--> ì´ê²ƒë„ ì¬í˜„ì´ ì•ˆë˜ê³ , MYSQLì—ì„œëŠ” ê¸°ë³¸í‚¤ì—†ì´ í…Œì´ë¸”ì´ ìƒì„±ë˜ì–´ìˆë‹¤..(ADDRESS í…Œì´ë¸”)

